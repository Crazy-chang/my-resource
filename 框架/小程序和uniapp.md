### openid与unionid的区别

1. `OpenId` 是一个用户对于一个小程序／公众号的标识，开发者可以通过这个标识识别出用户。(**一个用户多个小程序就有多个openid**)
2. `UnionId` 是一个用户对于同主体微信小程序／公众号／APP 的标识，开发者需要在微信开放平台下绑定相同账号的主体。开发者可通过`UnionId`，实现多个小程序、公众号、甚至 APP 之间的数据互通。(**一个用户只有一个UnionId**)



### 小程序登录授权流程
登录：用code换取openid
1、通过wx.login获取登录凭证code
2、然后通过wx.request发送code给后台并拿到token并存起来
授权：主要目的为了，获取用户头像，性别，城市，等信息，保存在后端或者是需要显示个人头像等情况。
1、判断用户是否授权过（wx.getSetting）
2、授权过可以直接通过wx.getUserProfile拿到信息。
3、如果没有授权过，需要配合button拿到用户信息

获取手机号码需要另外提示授权



### 小程序支付功能

需要去公众平台申请权限
用商品去调用后台接口，创建订单号并获取微信支付api所需要的一些签名参数等，再用获取的签名等参数去调用微信支付api


